:80 {
  # Frontend (Vite Dev) unter /financetracker/
  handle_path /financetracker/* {
    reverse_proxy financetracker-web:5173
  }

  # API unter /financetracker/api/
  handle_path /financetracker/api/* {
    reverse_proxy financetracker-api:8080
  }

  handle {
    respond "FinanceTracker gateway OK" 200
  }
}

# Prod later, real Domain + HTTPS
# chrispicloud.dev {
#   encode zstd gzip
#   handle_path /financetracker/api/* {
#     reverse_proxy financetracker-api:8080
#   }
#   handle /financetracker/* {
#     root * /srv/web
#     file_server
#     try_files {path} /financetracker/index.html
#   }
# }